@model IEnumerable<DSAA.EntityFrameworkCore.Entity.Solution>

@{
    ViewData["Title"] = "题目集";
}

<style type="text/css">
    .label_Pending {
        background-color: #777
    }

    .label_RejudgePending {
        background-color: #777
    }

    .label_Judging {
        background-color: #f89406
    }

    .label_CompileError {
        background-color: #3a87ad
    }

        .label_CompileError a {
            color: #fff
        }

    .label_RuntimeError {
        background-color: #3a87ad
    }

        .label_RuntimeError a {
            color: #fff
        }

    .label_TimeLimitExceeded {
        background-color: #e66060
    }

    .label_MemoryLimitExceeded {
        background-color: #e66060
    }

    .label_OutputLimitExceeded {
        background-color: #e66060
    }

    .label_WrongAnswer {
        background-color: #e66060
    }

    .label_PresentationError {
        background-color: #e66060
    }

    .label_Accepted {
        background-color: #66d203
    }

    .label_JudgeFailed {
        background-color: #1a1a1a
    }
</style>



<div class="">
    <div class="page-header-title">
        <h4 class="page-title">@ViewData["Title"] </h4>
    </div>
</div>





<!-- DataTables -->
<link href="~/assets/plugins/datatables/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/plugins/datatables/buttons.bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/plugins/datatables/fixedHeader.bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/plugins/datatables/responsive.bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/plugins/datatables/dataTables.bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/plugins/datatables/scroller.bootstrap.min.css" rel="stylesheet" type="text/css" />



<div class="page-content-wrapper ">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-body">

                        <div class="row">
                            <div class="col-md-12">

                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12 col-xs-12">
                                            <table id="datatable" class="table table-striped table-bordered text-center">
                                                <thead>
                                                    <tr>
                                                        <td>评测ID</td>
                                                        <td>用户名</td>
                                                        <td>题目ID</td>
                                                        <td>评测结果</td>
                                                        <td>运行时间</td>
                                                        <td>内存消耗</td>
                                                        <td>代码长度</td>
                                                        <td>代码语言</td>
                                                        <td>提交时间</td>
                                                    </tr>
                                                </thead>


                                                <tbody>
                                                    @foreach (var item in Model)
                                                    {
                                                        <tr>
                                                            <td>
                                                                @Html.DisplayFor(modelItem => item.Id)
                                                            </td>
                                                            <td>
                                                                @Html.DisplayFor(modelItem => item.User.UserName)
                                                            </td>
                                                            <td>
                                                                @Html.DisplayFor(modelItem => item.Problem.Id)
                                                            </td>
                                                            <td class="text-center">

                                                                <span class="label label_@item.ResultString.Replace(" ", "")">
                                                                    @item.ResultString

                                                                    @if (@item.ResultString == "Pending")
                                                                    {
                                                                        <img src="~/assets/images/working.gif" width="10" height="10">
                                                                    }
                                                                </span>

                                                            </td>
                                                            <td>
                                                                @Html.DisplayFor(modelItem => item.TimeCost) MS
                                                            </td>
                                                            <td>
                                                                @Html.DisplayFor(modelItem => item.MemoryCost) KB
                                                            </td>
                                                            <td>
                                                                @Html.DisplayFor(modelItem => item.CodeLength) B
                                                            </td>
                                                            <td>
                                                                @Html.DisplayFor(modelItem => item.LanguageType.Name)
                                                            </td>
                                                            <td>
                                                                @item.SubmitTime.ToString("yyyy-MM-dd HH:mm:ss")
                                                            </td>
                                                        </tr>
                                                    }

                                                </tbody>
                                            </table>

                                        </div>
                                    </div>


                                </div> <!-- panel-body -->
                            </div>
                        </div> <!-- end row -->
                    </div> <!-- panel body -->
                </div> <!-- end panel -->

            </div> <!-- end col -->

        </div>
        <!-- end row -->


    </div><!-- container -->
</div> <!-- Page content Wrapper -->
<!-- Datatables-->
<script src="~/assets/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="~/assets/plugins/datatables/dataTables.bootstrap.js"></script>
<script src="~/assets/plugins/datatables/dataTables.buttons.min.js"></script>
<script src="~/assets/plugins/datatables/buttons.bootstrap.min.js"></script>
<script src="~/assets/plugins/datatables/jszip.min.js"></script>
<script src="~/assets/plugins/datatables/pdfmake.min.js"></script>
<script src="~/assets/plugins/datatables/vfs_fonts.js"></script>
<script src="~/assets/plugins/datatables/buttons.html5.min.js"></script>
<script src="~/assets/plugins/datatables/buttons.print.min.js"></script>
<script src="~/assets/plugins/datatables/dataTables.fixedHeader.min.js"></script>
<script src="~/assets/plugins/datatables/dataTables.keyTable.min.js"></script>
<script src="~/assets/plugins/datatables/dataTables.responsive.min.js"></script>
<script src="~/assets/plugins/datatables/responsive.bootstrap.min.js"></script>
<script src="~/assets/plugins/datatables/dataTables.scroller.min.js"></script>



<script>

    !function ($) {
        var DataTable = function () {
            this.$dataTableButtons = $("#datatable-buttons")
        };
        DataTable.prototype.createDataTableButtons = function () {
            0 !== this.$dataTableButtons.length && this.$dataTableButtons.DataTable({
                dom: "Bfrtip",
                buttons: [{
                    extend: "copy",
                    className: "btn-success"
                }, {
                    extend: "csv"
                }, {
                    extend: "excel"
                }, {
                    extend: "pdf"
                }, {
                    extend: "print"
                }],
                responsive: !0
            });
        },
            DataTable.prototype.init = function () {
                //creating demo tabels
                $('#datatable').dataTable({
                    //跟数组下标一样，第一列从0开始，这里表格初始化时，第四列默认降序
                    "order": [[8, "desc"]]
                });

                $('#datatable-keytable').DataTable({ keys: true });
                $('#datatable-responsive').DataTable();
                $('#datatable-scroller').DataTable({
                    ajax: "assets/plugins/datatables/json/scroller-demo.json",
                    deferRender: true,
                    scrollY: 380,
                    scrollCollapse: true,
                    scroller: true
                });
                var table = $('#datatable-fixed-header').DataTable({ fixedHeader: true });

                //creating table with button
                this.createDataTableButtons();
            },
            //init
            $.DataTable = new DataTable, $.DataTable.Constructor = DataTable
    }(window.jQuery),

        //initializing
        function ($) {
            $.DataTable.init();
        }(window.jQuery);

</script>